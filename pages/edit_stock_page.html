{% extends "base.html" %}
{% block title %}Edit Stock{% endblock %}
{% block content %}
<div class="container py-4">
  <h1>Edit Stock</h1>

  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      {% for category, message in messages %}
        <div class="alert alert-{{ category }}">{{ message }}</div>
      {% endfor %}
    {% endif %}
  {% endwith %}

  <form method="post" action="{{ url_for('edit_stock', id=stock.id) }}">
    <div class="mb-3">
      <label class="form-label">Name</label>
      <input class="form-control" name="name" required value="{{ stock.name }}" />
    </div>
    <div class="mb-3">
      <label class="form-label">Ticker</label>
      <input class="form-control" name="ticker" required value="{{ stock.ticker }}" />
    </div>
    <div class="mb-3">
      <label class="form-label">Price</label>
      <input class="form-control" name="price" type="number" step="0.01" required value="{{ '%.2f'|format(stock.price) }}" />
    </div>
    <div class="mb-3">
      <label class="form-label">Quantity</label>
      <input class="form-control" name="quantity" type="number" required value="{{ stock.quantity }}" />
    </div>
    <button class="btn btn-primary" type="submit">Save changes</button>
    <a class="btn btn-secondary" href="{{ url_for('stock_admin') }}">Cancel</a>
  </form>
</div>
{% endblock %}